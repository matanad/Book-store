<h1 class="list-title">Our Books</h1>
<ul *ngIf="!isLoading">
  <li *ngFor="let book of books" [routerLink]="`/${book.id}`">
    <div
      class="delete-btn"
      *ngIf="isAdmin"
      (click)="deleteBook($event, book.id)"
    >
      X
    </div>
    <div class="edit-btn" *ngIf="isAdmin" (click)="editBook($event, book)">
      Edit
    </div>
    <img src="{{ book.imgUrl }}" alt="{{ book.title }}" />
    <h1>{{ book.title | titlecase }}</h1>
    <h2>by {{ book.author }}</h2>
    <p>{{ book.category }}</p>
    <button class="add-to-cart-btn" (click)="addToCart($event, book.id)">
      Add to cart {{ book.price | currency }}
    </button>
  </li>
</ul>
<ul *ngIf="isLoading">
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
  <li class="book-loader is-loading">
    <div class="book-loader-img"></div>
    <div class="content">
      <h2></h2>
      <p></p>
    </div>
  </li>
</ul>
<div class="paging-container">
  <button (click)="onChangePage(-1, true)" class="paging-btn">prev</button>
  <button
    *ngFor="let i of [].constructor(maxPages); let index = index"
    class="paging-btn"
    [ngClass]="{ active: filterBy.pageIdx === index + 1 }"
    (click)="onChangePage(index + 1)"
  >
    {{ index + 1 }}
  </button>
  <button class="paging-btn" (click)="onChangePage(1, true)">next</button>
</div>
<app-modal
  *ngIf="isAdmin && bookToEdit.id"
  [book]="bookToEdit"
  (onSave)="saveBook($event)"
  (onClose)="onCloseModal()"
/>
